extends ../../layouts/base

block content
  body
    .d-flex.flex-column.flex-column-fluid
      // begin::Toolbar
      .app-toolbar.py-3.py-lg-6(id="kt_app_toolbar")
        // begin::Toolbar container
        .app-container.container-xxl.d-flex.flex-stack(id="kt_app_toolbar_container")
          // begin::Page title
          .page-title.d-flex.flex-column.justify-content-center.flex-wrap.me-3
            // begin::Title
            h1.page-heading.d-flex.text-gray-900.fw-bold.fs-3.flex-column.justify-content-center.my-0 Project Members
            // end::Title
            // begin::Breadcrumb
            ul.breadcrumb.fw-semibold.fs-7.my-0.pt-1
              // begin::Item
              li.breadcrumb-item.text-muted
                a.text-muted.text-hover-primary(href="/") Home
              // end::Item
              // begin::Item
              li.breadcrumb-item.text-muted
                a.text-muted.text-hover-primary(href="/") Projects
              // end::Item
              // begin::Item
              li.breadcrumb-item.text-muted
                a.text-muted.text-hover-primary(href=`/projects/${project.slug}`) #{project.name}
              // end::Item
              // begin::Item
              li.breadcrumb-item.text-muted Members
              // end::Item
            // end::Breadcrumb
          // end::Page title
        // end::Toolbar container
      // end::Toolbar
      // begin::Content
      .app-content.flex-column-fluid(id="kt_app_content")
        // begin::Content container
        .app-container.container-xxl(id="kt_app_content_container")
          // begin::Card
          .card
            // begin::Card header
            .card-header.border-0.pt-6
              // begin::Card title
              .card-title
                // begin::Search
                .d-flex.align-items-center.position-relative.my-1
                  i.ki-duotone.ki-magnifier.fs-3.position-absolute.ms-5
                    span.path1
                    span.path2
                  input.form-control.form-control-solid.w-250px.ps-13(type="text", data-kt-user-table-filter="search", placeholder="Search project member")
                // end::Search
              // begin::Card title
              // begin::Card toolbar
              .card-toolbar
                // begin::Toolbar
                .d-flex.justify-content-end(data-kt-user-table-toolbar="base")
                  // begin::Filter
                  button.btn.btn-light-primary.me-3(type="button", data-kt-menu-trigger="click", data-kt-menu-placement="bottom-end")
                    i.ki-duotone.ki-filter.fs-2
                      span.path1
                      span.path2
                    | Filter
                  // begin::Menu 1
                  .menu.menu-sub.menu-sub-dropdown.w-300px.w-md-325px(data-kt-menu="true")
                    // begin::Header
                    .px-7.py-5
                      .fs-5.text-gray-900.fw-bold Filter Options
                    // end::Header
                    // begin::Separator
                    .separator.border-gray-200
                    // end::Separator
                    // begin::Content
                    .px-7.py-5(data-kt-user-table-filter="form")
                      // begin::Input group
                      .mb-10
                        label.form-label.fs-6.fw-semibold Role:
                        select.form-select.form-select-solid.fw-bold(data-kt-select2="true", data-placeholder="Select option", data-allow-clear="true", data-kt-user-table-filter="role", data-hide-search="true")
                          option
                          option(value="Administrator") Administrator
                          option(value="Analyst") Analyst
                          option(value="Developer") Developer
                          option(value="Support") Support
                          option(value="Trial") Trial
                      // end::Input group
                      // begin::Input group
                      .mb-10
                        label.form-label.fs-6.fw-semibold Two Step Verification:
                        select.form-select.form-select-solid.fw-bold(data-kt-select2="true", data-placeholder="Select option", data-allow-clear="true", data-kt-user-table-filter="two-step", data-hide-search="true")
                          option
                          option(value="Enabled") Enabled
                      // end::Input group
                      // begin::Actions
                      .d-flex.justify-content-end
                        button.btn.btn-light.btn-active-light-primary.fw-semibold.me-2.px-6(type="reset", data-kt-menu-dismiss="true", data-kt-user-table-filter="reset") Reset
                        button.btn.btn-primary.fw-semibold.px-6(type="submit", data-kt-menu-dismiss="true", data-kt-user-table-filter="filter") Apply
                      // end::Actions
                    // end::Content
                  // end::Menu 1
                  // end::Filter
                  // begin::Add user
                  button.btn.btn-primary(type="button", data-bs-toggle="modal", data-bs-target="#modal_add_member")
                    i.ki-duotone.ki-plus.fs-2
                    | Add Member
                  // end::Add user
                // end::Toolbar
                // begin::Group actions
                .d-flex.justify-content-end.align-items-center.d-none(data-kt-user-table-toolbar="selected")
                  .fw-bold.me-5
                    span.me-2(data-kt-user-table-select="selected_count")
                    | Selected
                  button.btn.btn-danger(type="button", data-kt-user-table-select="delete_selected") Delete Selected
                // end::Group actions
                // begin::Modal - Adjust Balance
                .modal.fade(id="modal_add_member", tabindex="-1", aria-hidden="true")
                  // begin::Modal dialog
                  .modal-dialog.modal-dialog-centered.mw-650px
                    // begin::Modal content
                    .modal-content
                      // begin::Modal header
                      .modal-header
                        // begin::Modal title
                        h2.fw-bold Add Project Members
                        // end::Modal title
                        // begin::Close
                        .btn.btn-icon.btn-sm.btn-active-icon-primary(data-kt-users-modal-action="close")
                          i.ki-duotone.ki-cross.fs-1
                            span.path1
                            span.path2
                        // end::Close
                      // end::Modal header
                      // begin::Modal body
                      .modal-body.scroll-y.mx-5.mx-xl-15.my-7
                        // begin::Form
                        form.form(id="modal_add_project_members_form", action="#")
                          // begin::Input group
                          .fv-row.mb-10
                            // begin::Search
                            .d-flex.align-items-center.position-relative.my-1
                              i.ki-duotone.ki-magnifier.fs-3.position-absolute.ms-5
                                span.path1
                                span.path2
                              input.form-control.form-control-solid.ps-13(id="modal_add_project_members_search_input", type="text", data-kt-user-table-filter="search", placeholder="Search users")
                              button.btn.btn-primary(id="modal_add_project_members_search", type="button")
                                span.indicator-label Search
                                span.indicator-progress
                                  | Please wait...
                                  span.spinner-border.spinner-border-sm.align-middle.ms-2
                            // end::Search
                            .div(id="search_output")
                            // begin::Label
                            label.fs-6.fw-semibold.form-label.mb-2 Select Roles:
                            // end::Label
                            // begin::Input
                            select.form-select.form-select-solid.fw-bold(name="role", data-control="select2", data-placeholder="Select a role", data-hide-search="true")
                              option
                              option(value="Administrator") Administrator
                              option(value="Analyst") Analyst
                              option(value="Developer") Developer
                              option(value="Support") Support
                              option(value="Trial") Trial
                            // end::Input
                          // end::Input group
                          // begin::Actions
                          .text-center
                            button.btn.btn-light.me-3(id="modal_add_project_members_cancel", type="reset", data-kt-users-modal-action="cancel") Cancel
                            button.btn.btn-primary(id="modal_add_project_members_submit", type="submit", data-kt-users-modal-action="submit")
                              span.indicator-label Submit
                              span.indicator-progress
                                | Please wait...
                                span.spinner-border.spinner-border-sm.align-middle.ms-2
                          // end::Actions
                        // end::Form
                      // end::Modal body
                    // end::Modal content
                  // end::Modal dialog
                // end::Modal - New Card
              // end::Card toolbar
            // end::Card header
            // begin::Card body
            .card-body.py-4
              // begin::Table
              table.table.align-middle.table-row-dashed.fs-6.gy-5(id="kt_table_users")
                thead
                  tr.text-start.text-muted.fw-bold.fs-7.text-uppercase.gs-0
                    th.w-10px.pe-2
                      .form-check.form-check-sm.form-check-custom.form-check-solid.me-3
                        input.form-check-input(type="checkbox", data-kt-check="true", data-kt-check-target="#kt_table_users .form-check-input", value="1")
                    th.min-w-125px User
                    th.min-w-125px Access
                    th.min-w-125px Two-step
                    th.min-w-125px Joined Date
                    th.text-end.min-w-100px Actions
                tbody.text-gray-600.fw-semibold
                  each member in project.members
                    tr
                      td
                        .form-check.form-check-sm.form-check-custom.form-check-solid
                          input.form-check-input(type="checkbox", value="1")
                      td.d-flex.align-items-center
                        // begin:: Avatar
                        .symbol.symbol-circle.symbol-50px.overflow-hidden.me-3
                          a(href="apps/user-management/users/view.html")
                            .symbol-label
                              img.w-100(src=`assets/media/avatars/${member.account.photo}`, alt=`${member.account.name}`)
                        // end::Avatar
                        // begin::User details
                        .d-flex.flex-column
                          a.text-gray-800.text-hover-primary.mb-1(href="apps/user-management/users/view.html") #{member.account.name}
                          span #{member.account.email}
                        // begin::User details
                      td #{member.access}
                      td
                      td 20 Dec 2023, 9:23 pm
                      td.text-end
                        a.btn.btn-light.btn-active-light-primary.btn-flex.btn-center.btn-sm(href="#", data-kt-menu-trigger="click", data-kt-menu-placement="bottom-end")
                          | Actions
                          i.ki-duotone.ki-down.fs-5.ms-1
                        // begin::Menu
                        .menu.menu-sub.menu-sub-dropdown.menu-column.menu-rounded.menu-gray-600.menu-state-bg-light-primary.fw-semibold.fs-7.w-125px.py-4(data-kt-menu="true")
                          // begin::Menu item
                          .menu-item.px-3
                            a.menu-link.px-3(href="apps/user-management/users/view.html") Edit
                          // end::Menu item
                          // begin::Menu item
                          .menu-item.px-3
                            a.menu-link.px-3(href="#", data-kt-users-table-filter="delete_row") Delete
                          // end::Menu item
                        // end::Menu
                  tr
                    td
                      .form-check.form-check-sm.form-check-custom.form-check-solid
                        input.form-check-input(type="checkbox", value="1")
                    td.d-flex.align-items-center
                      // begin:: Avatar
                      .symbol.symbol-circle.symbol-50px.overflow-hidden.me-3
                        a(href="apps/user-management/users/view.html")
                          .symbol-label
                            img.w-100(src="assets/media/avatars/300-6.jpg", alt="Emma Smith")
                      // end::Avatar
                      // begin::User details
                      .d-flex.flex-column
                        a.text-gray-800.text-hover-primary.mb-1(href="apps/user-management/users/view.html") Emma Smith
                        span smith@kpmg.com
                      // begin::User details
                    td Administrator
                    td
                    td 20 Dec 2023, 9:23 pm
                    td.text-end
                      a.btn.btn-light.btn-active-light-primary.btn-flex.btn-center.btn-sm(href="#", data-kt-menu-trigger="click", data-kt-menu-placement="bottom-end")
                        | Actions
                        i.ki-duotone.ki-down.fs-5.ms-1
                      // begin::Menu
                      .menu.menu-sub.menu-sub-dropdown.menu-column.menu-rounded.menu-gray-600.menu-state-bg-light-primary.fw-semibold.fs-7.w-125px.py-4(data-kt-menu="true")
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="apps/user-management/users/view.html") Edit
                        // end::Menu item
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="#", data-kt-users-table-filter="delete_row") Delete
                        // end::Menu item
                      // end::Menu
                  tr
                    td
                      .form-check.form-check-sm.form-check-custom.form-check-solid
                        input.form-check-input(type="checkbox", value="1")
                    td.d-flex.align-items-center
                      // begin:: Avatar
                      .symbol.symbol-circle.symbol-50px.overflow-hidden.me-3
                        a(href="apps/user-management/users/view.html")
                          .symbol-label.fs-3.bg-light-danger.text-danger M
                      // end::Avatar
                      // begin::User details
                      .d-flex.flex-column
                        a.text-gray-800.text-hover-primary.mb-1(href="apps/user-management/users/view.html") Melody Macy
                        span melody@altbox.com
                      // begin::User details
                    td Analyst
                    td
                      .badge.badge-light-success.fw-bold Enabled
                    td 25 Jul 2023, 8:43 pm
                    td.text-end
                      a.btn.btn-light.btn-active-light-primary.btn-flex.btn-center.btn-sm(href="#", data-kt-menu-trigger="click", data-kt-menu-placement="bottom-end")
                        | Actions
                        i.ki-duotone.ki-down.fs-5.ms-1
                      // begin::Menu
                      .menu.menu-sub.menu-sub-dropdown.menu-column.menu-rounded.menu-gray-600.menu-state-bg-light-primary.fw-semibold.fs-7.w-125px.py-4(data-kt-menu="true")
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="apps/user-management/users/view.html") Edit
                        // end::Menu item
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="#", data-kt-users-table-filter="delete_row") Delete
                        // end::Menu item
                      // end::Menu
                  tr
                    td
                      .form-check.form-check-sm.form-check-custom.form-check-solid
                        input.form-check-input(type="checkbox", value="1")
                    td.d-flex.align-items-center
                      // begin:: Avatar
                      .symbol.symbol-circle.symbol-50px.overflow-hidden.me-3
                        a(href="apps/user-management/users/view.html")
                          .symbol-label
                            img.w-100(src="assets/media/avatars/300-1.jpg", alt="Max Smith")
                      // end::Avatar
                      // begin::User details
                      .d-flex.flex-column
                        a.text-gray-800.text-hover-primary.mb-1(href="apps/user-management/users/view.html") Max Smith
                        span max@kt.com
                      // begin::User details
                    td Developer
                    td
                    td 25 Oct 2023, 5:20 pm
                    td.text-end
                      a.btn.btn-light.btn-active-light-primary.btn-flex.btn-center.btn-sm(href="#", data-kt-menu-trigger="click", data-kt-menu-placement="bottom-end")
                        | Actions
                        i.ki-duotone.ki-down.fs-5.ms-1
                      // begin::Menu
                      .menu.menu-sub.menu-sub-dropdown.menu-column.menu-rounded.menu-gray-600.menu-state-bg-light-primary.fw-semibold.fs-7.w-125px.py-4(data-kt-menu="true")
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="apps/user-management/users/view.html") Edit
                        // end::Menu item
                        // begin::Menu item
                        .menu-item.px-3
                          a.menu-link.px-3(href="#", data-kt-users-table-filter="delete_row") Delete
                        // end::Menu item
                      // end::Menu
              // end::Table
            // end::Card body
          // end::Card
        // end::Content container
      // end::Content

